<html>
<head>
    <title></title>

    <link rel="stylesheet" href="css/photon.min.css">    
    <!-- Some data testing -->
    <!-- <script>
        const electron = require("electron")
        const ipc = electron.ipcRenderer
        document.addEventListener("DOMContentLoaded", function(){
            console.log(ipc);
            ipc.send("mainWindowLoaded");
            ipc.on("resultSent", function(evt, result){
                let resultEl = document.getElementById("result");
                console.log(result);
                for(var i = 0; i<result.length; i++){
                    resultEl.innerHTML += "Name: " + result[i].Fname.toString() + "<br/>"
                }
            })
        })
    </script> -->
    <script>
    function displayDB(){
        const electron = require("electron")
        const ipc = electron.ipcRenderer
        ipc.send("displayDB")
        ipc.on("resultSent", function (evt, result){
            let tableBody = document.getElementById("table_body");
            let rowCount = document.getElementById('student_table').rows[0].cells.length
            for(var i = 0; i<result.length; i++){
                console.log(result[i])
                var row = tableBody.insertRow(tableBody.rows.length)
                var MemberId = row.insertCell(0);
                var Fname = row.insertCell(1);
                var Lname = row.insertCell(2);
                var Email = row.insertCell(3);
                var Gender = row.insertCell(4);

                MemberId.innerHTML = result[i].memberID;
                Fname.innerHTML = result[i].Fname;
                Lname.innerHTML = result[i].Lname;
                Email.innerHTML = result[i].Email;
                Gender.innerHTML = result[i].Gender;
            }
        });
    }
    </script>
</head>

<body>
    
    <div class="window">
        <header class="toolbar toolbar-header">
            <h1 class="title">Electric Boogaloo</h1>
            <div class="toolbar-actions">
                <button class="btn btn-positive" onclick="displayDB()">Populate </button>
            </div>
        </header>
        <div class="window-content">
            <div class="pane-group">
                <div class="pane-sm sidebar">
                    <div class="pane">
                        <!-- Icons -->
                        <h5 class="nav-group-title">Navigation</h5>
                        <span class="nav-group-item active">
                            <span class="icon icon-users"></span>
                            Members
                        </span>
                        <span class="nav-group-item">
                            <span class="icon icon-feather"></span>
                            Schools
                        </span>
                    </div>
                </div>
                <div class="pane">
                    <table class="table-striped" id="student_table">
                        <thead id="tableHeader">
                            <tr>
                               <th>MemberID</th>   
                               <th>First Name</th> 
                               <th>Last Name</th> 
                               <th>Grade Level</th>
                               <th>Email</th>
                               <th>Gender</th>
                            </tr>
                        </thead>
                        <tbody id="table_body">
                        </tbody>
                    </table>
                </div>
            </div>
            
        </div>
    </div>
</body>
</html>